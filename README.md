# 必須環境

## 共通

### Windows
- Windows 10 以上
- 64bit 専用

### Visual Studio 2022
- ワークロード
    - Python 開発
    - C++ によるデスクトップ開発
- 個別コンポーネント
    - Python 3 64 ビット(3.9.13)(サポート外)
    - Python ネイティブ開発ツール
    - Windows 11 SDK (10.0.26100.6584)

## `pip install` する人向け
- `pyproject.toml` に書いてある前提条件を満たす必要がある

## `aynime_capture` 開発者向け
- Python==3.9 (Visual Studio 2022 同梱版)
- pypi パッケージ
    - pip
    - PyBind11
    - pywin32
    - win32gui

# 内部のキャプチャ挙動

## ウィンドウに更新があった時だけキャプチャされる
- e.g.) 完全に静止した状態の GUI ツールであれば、最初の１フレームだけがキャプチャされる
- e.g.) 動画プレイヤーであれば、新しいフレームが表示された時にキャプチャされる
- あくまでウィンドウ更新ドリブンなので、キャプチャフレームレートは一定ではない

## キャプチャタイミングはディスプレイの VSYNC に量子化される
- 少なくともフレームのタイムスタンプは VSYNC で揃っている

## e.g.) 23.976 FPS の動画をキャプチャする場合
- 動画プレイヤーは 23.976 FPS で表示の更新を行おうとする
- （普通は VSYNC が有効なので）表示タイミングはディスプレイのフレームレートに量子化される
- 量子化されたタイミングに従って `aynime_capture` 内部でキャプチャが行われる
- 動画と表示とでフレームレートが違うため、キャプチャしたフレームの時間間隔は一定にならない
- しかし、キャプチャフレーム列の平均フレームレートは概ね 23.976 FPS になる
